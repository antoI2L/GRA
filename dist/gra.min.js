/*! gra 28/05/2016 */
var GRA = {};
!function(a){a.ajax=a.ajax||{},a.ajax["const"]={method:{DELETE:"delete",GET:"get",HEAD:"head",POST:"post",PUT:"put"},type:{HTML:"html",JSON:"json",JSONP:"jsonp",TEXT:"text",XML:"xml"},response:{SUCCESS:200,UNAUTHORIZED:403,PAGE_NOT_FOUND:404,SERVER_ERROR:500}},a.ajax.Ajax=function(){var b,c,d,e,f,g,h={xxx:function(){throw new Error("Une erreur AJAX est survenue.")},403:null,404:null,500:null},i={},j=function(b){var c=parseInt(b,10);c===a.ajax["const"].response.PAGE_NOT_FOUND?null===h[404]?h.xxx():h[404]():c===a.ajax["const"].response.UNAUTHORIZED?null===h[403]?h.xxx():h[403]():c===a.ajax["const"].response.SERVER_ERROR?null===h[500]?h.xxx():h[500]():h.xxx()},k=function(b){var c=b;return this.responseType===a.ajax["const"].type.JSON?c=a.utils.ObjectUtils.parseJSON(c):this.responseType===a.ajax["const"].type.XML&&(c=a.utils.ObjectUtils.parseXML(c)),c},l=function(d,e,h){var i=new XMLHttpRequest,l=d.queryString();d.prepare(e,h),f?i.hasOwnProperty("withCredentials")?(i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.open(a.ajax["const"].method.GET,g+"?"+l,!0)):window.XDomainRequest&&(i=new window.XDomainRequest,i.open(a.ajax["const"].method.GET,g+"?"+l)):i.open(a.ajax["const"].method.GET,g+"?"+l,!0),i.onreadystatechange=function(){var d;4===this.readyState&&(b=this.status,a.ajax["const"].response.SUCCESS<=this.status&&400>this.status?(d=k(this.responseText),c(d)):j(this.status))},i.send()},m=function(d,e,h,i){var l=new XMLHttpRequest,m=d.queryString();d.prepare(h,i),f?l.hasOwnProperty("withCredentials")?(l.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.open(e,g,!0)):window.XDomainRequest&&(l=new window.XDomainRequest,l.open(e,g)):l.open(e,g,!0),e===a.ajax["const"].method.POST&&l.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),l.onreadystatechange=function(){var d;4===this.readyState&&(b=this.status,a.ajax["const"].response.SUCCESS<=this.status&&400>this.status?(d=k(this.responseText),c(d)):j(this.status))},l.send(m)};this.add=function(a,b){i[a]=b},this["delete"]=function(b,c){m(this,a.ajax["const"].method.DELETE,b,c)},this.get=function(a,b){l(this,a,b)},this.getResponseType=function(){return d},this.head=function(b,c){m(this,a.ajax["const"].method.HEAD,b,c)},this.lastResultCode=function n(){return n},this.on200=function(a){c=a},this.on404=function(a){h[404]=a},this.on500=function(a){h[500]=a},this.onError=function o(a){o.xxx=a},this.onPageNotFound=function(a){this.on404(a)},this.onServerError=function(a){this.on500(a)},this.onSuccess=function(a){this.on200(a)},this.post=function(b,c){m(this,a.ajax["const"].method.POST,b,c)},this.prepare=function(c,d){c&&(a.utils.is.callable(c)?this.onSuccess(c):this.setUrl(c)),d&&this.onSuccess(d),b=null},this.put=function(b,c){m(this,a.ajax["const"].method.PUT,b,c)},this.queryString=function(){var b,c,d=!0,f="";if(e)f=e+"="+a.utils.ObjectUtils.stringify(i);else for(b in i)i.hasOwnProperty(b)&&(c=i[b],(a.utils.is.object(c)||a.utils.is.array(c))&&(c=a.utils.ObjectUtils.stringify(c)),f+=d?b+"="+c:"&"+b+"="+c);return f},this.send=function(b,c,d){b===a.ajax["const"].method.GET?l(this,c,d):m(this,c,d)},this.sendAsJson=function(a){e=a},this.setCrossDomain=function(a){f=!!a},this.setResponseType=function(a){d=a},this.setUrl=function(a){g=a}}}(GRA||{}),function(a){a.ajax=a.ajax||{},a.ajax.Factory=function(){this.createRequest=function(){return new a.ajax.Ajax},this.createJsonRequest=function(){var b=new a.ajax.Ajax;return b.setResponseType(a.ajax["const"].type.JSON),b},this.createXmlRequest=function(){var b=new a.ajax.Ajax;return b.setResponseType(a.ajax["const"].type.XML),b}},a.ajax.Factory=new a.ajax.Factory}(GRA||{}),function(a){a.datastructure=a.datastructure||{},a.datastructure.Map=function(){var b=Object.create(null),c=0;this.forEach=function(a){var c;for(c in b)a(c,b[c])},this.forEachKey=function(a){var c;for(c in b)a(c)},this.forEachValue=function(a){var c;for(c in b)a(b[c])},this.clear=function(){var a;for(a in b)delete b[a];c=0},this.containsKey=function(c){return a.utils.ObjectUtils.own(c,b)},this.containsValue=function(b){var c=this.values();return-1!==a.utils.ArrayUtils.indexOf(b,c)},this.get=function(a){return b[a]},this.isEmpty=function(){return 0===c},this.keys=function d(){var a,d=[];for(a in b)d.push(a);return d},this.put=function(a,d){b[a]=d,c+=1},this.putAll=function(a){var b,c,d=a.length;for(c=0;d>c;c+=1)b=a[c],this.put(b[0],b[1])},this.remove=function(a){var d=!1;return this.containsKey(a)&&(delete b[a],c-=1,d=!0),d},this.size=function(){return c},this.toString=function(){return a.utils.ObjectUtils.stringify(b)},this.values=function e(){var a,e=[];for(a in b)e.push(b[a]);return e}}}(GRA||{}),function(a){a.datastructure=a.datastructure||{},a.datastructure.Queue=function(){var b=[],c=function(){var a=b,c=b.length-1;return{current:function(){return a[c]},forEach:function(a){var b;for(b=this.first();this.hasNext();b=this.next())a(b)},first:function(){return this.reset(),this.next()},hasNext:function(){return c>=0},next:function(){var b=a[c];return c-=1,b},reset:function(){c=a.length-1}}};this.clear=function(){a.utils.ArrayUtils.clear(b)},this.clone=function(){var c,d=b.length-1,e=new a.datastructure.Queue;for(c=d;c>=0;c-=1)e.enqueue(b[c]);return e},this.forEach=function(c){a.utils.ArrayUtils.reverseForEach(b,c)},this.head=function d(){var d;return this.isEmpty()||(d=b[b.length-1]),d},this.isEmpty=function(){return 0===this.size()},this.iterator=function(){return new c},this.enqueue=function(a){b.unshift(a)},this.dequeue=function(){return b.pop()},this.reduce=function(a,c){return b.reduceRight(a,c)},this.size=function(){return b.length},this.tail=function e(){var e;return this.isEmpty()||(e=b[0]),e},this.toArray=function(){return b}}}(GRA||{}),function(a){a.datastructure=a.datastructure||{},a.datastructure.Stack=function(){var b=[];this.clear=function(){a.utils.ArrayUtils.clear(b)},this.forEach=function(c){a.utils.ArrayUtils.reverseForEach(b,c)},this.isEmpty=function(){return 0===this.size()},this.push=function(a){b.push(a)},this.pop=function(){return b.pop()},this.size=function(){return b.length},this.toArray=function(){return b},this.top=function c(){var c;return this.isEmpty()||(c=b[b.length-1]),c}}}(GRA||{}),function(a){a.datastructure=a.datastructure||{},a.datastructure.BinarySearchTree=function(){var a,b=function g(a,b,c){var d,e,f=!!c,h=a,i=b;this.id=function(){return h},this.insert=function(a,b,c){var d=c(h,a);d>=0?this.insertLeft(a,b,c):this.insertRight(a,b,c)},this.insertLeft=function(a,b,c){d?d.insert(a,b,c):d=new g(a,b)},this.insertRight=function(a,b,c){e?e.insert(a,b,c):e=new g(a,b)},this.isLeaf=function(){return!left&&!right},this.isRoot=function(){return f},this.left=function(){return d},this.right=function(){return e},this.setLeftNode=function(a){d=a},this.setRightNode=function(a){e=a},this.value=function(){return i}},c=function(a,b){var c=1;return a===b?c=0:b>a&&(c=-1),c},d=0,e=0,f={depth_first:function(a,b){var c,d,f=null,g=b.id();return e+=1,a===g?f=b.value():g>a&&b.left()?(c=b.left(),f=this.depth_first(a,c)):b.right()&&(d=b.right(),f=this.depth_first(a,d)),f}};this.DEPTH_FIRST="depth_first",this.add=function(b,e){var f,g;return this.isEmpty()?this.setRoot(b,e):(g=a.id(),f=c(g,b),f>=0?a.insertLeft(b,e,c):a.insertRight(b,e,c)),d+=1,this},this.countNodes=function(){return d},this.countIterations=function(){return e},this.isEmpty=function(){return!a},this.root=function(){return a},this.search=function(b,c){var d;return e=0,f.hasOwnProperty(c)&&(d=f[c](b,a)),d},this.setComparator=function(a){c=a},this.setRoot=function(c,d){return a=new b(c,d,!0),this}}}(GRA||{}),function(a){a.datastructure=a.datastructure||{},a.datastructure.Vector=function(){var b=[],c=function(a){var b=0,c=a;this.forEach=function(a){var b;for(b=this.first();this.hasNext();b=this.next())a(b)},this.first=function(){return this.reset(),this.next()},this.hasNext=function(){return c.size()>=b},this.next=function(){var a=c.elementAt(b);return b+=1,a},this.reset=function(){b-=b}};this.add=function(){var a;for(a=0;a<arguments.length;a+=1)b.push(arguments[a])},this.addAll=function(b){var c,d=b.length;if(!a.utils.is.array(b))throw new TypeError("La méthode Vector::addAll() ne prend en paramètre qu'un unique tableau.");for(c=0;d>c;c+=1)this.add(b[c])},this.clear=function(){a.utils.ArrayUtils.clear(b)},this.elementAt=function(a){var c;return a<this.size()&&(c=b[a]),c},this.firstElement=function(){var a;return this.isEmpty()||(a=b[0]),a},this.forEach=function(c){a.utils.ArrayUtils.forEach(b,c)},this.has=function(a){return-1<this.indexOf(a)},this.indexOf=function(c){return a.utils.ArrayUtils.indexOf(c,b)},this.isEmpty=function(){return 0===this.size()},this.iterator=function(){return new c(this)},this.join=function(a){return b.join(a)},this.lastElement=function(){var a;return this.isEmpty()||(a=b[this.size()-1]),a},this.remove=function(c){var d=a.utils.ArrayUtils.indexOf(c,b);return this.removeElementAt(d)},this.removeAll=function(b){var c;if(!a.utils.is.array(b))throw new Error("Le paramètre de Vector::removeAll() doit être un tableau.");for(c=0;c<b.length;c+=1)this.remove(b[c])},this.removeElementAt=function(a){var c;return a<this.size()&&(c=b.splice(a,1)),c},this.reverse=function(){b.reverse()},this.size=function(){return b.length},this.sort=function(a){b.sort(a)},this.sortAsc=function(){b.sort()},this.sortDesc=function(){var a=function(a,b){return b-a},c=function(a,b){return b.toString().localeCompare(a)};isNaN(b[0])?b.sort(c):b.sort(a)},this.toArray=function(){return b}}}(GRA||{}),function(a){a.dom=a.dom||{},a.dom.Collection=function(){var b=[],c=new a.dom.Element,d=a.utils.ArrayUtils;this.addClass=function(a){d.forEach(b,function(b){c.decorate(b),c.addClass(a)})},this.after=function(a){d.forEach(b,function(b){c.decorate(b),c.after(a)})},this.append=function(a){d.forEach(b,function(b){c.decorate(b),c.append(a)})},this.before=function(a){d.forEach(b,function(b){c.decorate(b),c.before(a)})},this.decorate=function(a){b=a},this.each=function(a){d.forEach(b,function(b){c.decorate(b),a(c)})},this.empty=function(){d.forEach(b,function(a){c.decorate(a),c.empty()})},this.getAttribute=function(a){var e,f=[];return d.forEach(b,function(b){c.decorate(b),e=c.getAttribute(a),f.push(e)}),f},this.getData=function(a){return this.getAttribute("data-"+a)},this.getHtml=function(){var a,e=[];return d.forEach(b,function(b){c.decorate(b),a=c.getHtml(),e.push(a)}),e.join(" ")},this.getText=function(){var a,e=[];return d.forEach(b,function(b){c.decorate(b),a=c.getText(),e.push(a)}),e.join(" ")},this.getParent=function(){var a=null;return 0<b.length&&(c.decorate(b[0]),a=c.getParent()),a},this.getPosition=function(){var a=null;return 0<b.length&&(c.decorate(b[0]),a=c.getPosition()),a},this.getPositionRelative=function(){var a=null;return 0<b.length&&(c.decorate(b[0]),a=c.getPositionRelative()),a},this.hasClass=function(){return!1},this.hide=function(){d.forEach(b,function(a){c.decorate(a),c.hide()})},this.off=function(a,e){d.forEach(b,function(b){c.decorate(b),c.off(a,e)})},this.on=function(a,e){d.forEach(b,function(b){c.decorate(b),c.on(a,e)})},this.prepend=function(a){d.forEach(b,function(b){c.decorate(b),c.prepend(a)})},this.remove=function(){d.forEach(b,function(a){c.decorate(a),c.remove()}),b=[]},this.removeAttribute=function(a){d.forEach(b,function(b){c.decorate(b),c.removeAttribute(a)})},this.removeClass=function(a){d.forEach(b,function(b){c.decorate(b),c.removeClass(a)})},this.removeData=function(a){this.removeAttribute("data-"+a)},this.setAttribute=function(a,e){d.forEach(b,function(b){c.decorate(b),c.setAttribute(a,e)})},this.setData=function(a,e){d.forEach(b,function(b){c.decorate(b),c.setData(a,e)})},this.setHtml=function(a){d.forEach(b,function(b){c.decorate(b),c.setHtml(a)})},this.setText=function(a){d.forEach(b,function(b){c.decorate(b),c.setText(a)})},this.show=function(){d.forEach(b,function(a){c.decorate(a),c.show()})},this.trigger=function(a){d.forEach(b,function(b){c.decorate(b),c.trigger(a)})}}}(GRA||{}),function(a){a.dom=a.dom||{},a.dom.Element=function(){var b=document;this.addClass=function(c){a.utils.StringUtils.has(c,b.className)||(b.className+=" "+c)},this.after=function(a){b.insertAdjacentHTML("afterend",a)},this.append=function(a){b.insertAdjacentHTML("beforeend",a)},this.before=function(a){b.insertAdjacentHTML("beforebegin",a)},this.clone=function(){return b.cloneNode(!0)},this.contains=function(a){return b!==a&&b.contains(a)},this.decorate=function(a){b=a},this.each=function(a){a(b)},this.empty=function(){b.innerHTML=""},this.isEmpty=function(){return""===b.innerHTML},this.getAttribute=function(a){return b.getAttribute(a)},this.getData=function(a){return this.getAttribute("data-"+a)},this.getElementDecorated=function(){return b},this.getHtml=function(){return b.innerHTML},this.getText=function(){return b.textContent},this.getParent=function(){return b=b.parentNode,this},this.getPosition=function(){return{left:b.offsetLeft,top:b.offsetTop}},this.getPositionRelative=function(){return b.getBoundingClientRect()},this.hasClass=function(a){var c=new RegExp("(^| )"+a+"( |$)","gi");return c.test(b.className)},this.hide=function(){b.style.display="none"},this.off=function(a,c){b.removeEventListener(a,c)},this.on=function(a,c){b.addEventListener(a,c)},this.prepend=function(a){b.insertBefore(a,b.firstChild)},this.remove=function(){b.parentNode.removeChild(b),b=document},this.removeClass=function(a){var c=a.split(" "),d=c.join("|"),e=new RegExp("(^|\\b)"+d+"(\\b|$)","gi");b.className=b.className.replace(e," ")},this.removeAttribute=function(a){b.removeAttribute(a)},this.removeData=function(a){this.removeAttribute("data-"+a)},this.setAttribute=function(a,c){b.setAttribute(a,c)},this.setData=function(a,c){b.setAttribute("data-"+a,c)},this.setHtml=function(a){b.innerHTML=a},this.setText=function(a){b.textContent=a},this.show=function(){b.style.display=""},this.trigger=function(a){var c=document.createEvent("HTMLEvents");c.initEvent(a,!0,!1),b.dispatchEvent(c)}}}(GRA||{}),function(a){a.dom=a.dom||{},a.dom.Finder=function(){var b={element:new a.dom.Element,collection:new a.dom.Collection},c="element",d=function(a){1===a.length?(b.element.decorate(a[0]),c="element"):(b.collection.decorate(a),c="collection")};this.count=function(a){var c=b.element.getElementDecorated();return c.querySelectorAll(a).length},this.countByClass=function(a){var c=b.element.getElementDecorated();return c.getElementsByClassName(a).length},this.find=function(a){var c=b.element.getElementDecorated(),e=c.querySelectorAll(a);return d(e),this},this.findByClass=function(a){var c=b.element.getElementDecorated(),e=c.getElementsByClassName(a);return d(e),this},this.findById=function(a){var d=b.element.getElementDecorated(),e=d.getElementById(a);return b.element.decorate(e),c="element",this},this.findOne=function(a){var d=b.element.getElementDecorated(),e=d.querySelector(a);return b.element.decorate(e),c="element",this},this.reset=function(){return this.searchFromDocument()},this.searchFromBody=function(){return b.element.decorate(document.body),this},this.searchFromDocument=function(){return b.element.decorate(document),this},this.addClass=function(a){return b[c].addClass(a),this},this.after=function(a){return b[c].after(a),this},this.append=function(a){return b[c].append(a),this},this.before=function(a){return b[c].before(a),this},this.each=function(a){return b[c].each(a),this},this.empty=function(){return b[c].empty(),this},this.getAttribute=function(a,d){return b[c].getAttribute(a,d)},this.getData=function(a){return b[c].getData(a)},this.getHtml=function(){return b[c].getHtml()},this.getText=function(){return b[c].getText()},this.getParent=function(){var a=b[c].getParent(),d=a.getElementDecorated();return c="element",b[c].decorate(d),this},this.getPosition=function(){return b[c].getPosition()},this.getPositionRelative=function(){return b[c].getPositionRelative()},this.hasClass=function(a){return b[c].hasClass(a)},this.hide=function(){return b[c].hide(),this},this.off=function(a,d){return b[c].off(a,d),this},this.on=function(a,d){return b[c].on(a,d),this},this.prepend=function(a){return b[c].prepend(a),this},this.remove=function(){b[c].remove()},this.removeAttribute=function(a){return b[c].removeAttribute(a),this},this.removeClass=function(a){return b[c].removeClass(a),this},this.removeData=function(a){return b[c].removeData(a),this},this.setAttribute=function(a,d){return b[c].setAttribute(a,d),this},this.setData=function(a,d){return b[c].setData(a,d),this},this.setHtml=function(a){return b[c].setHtml(a),this},this.setText=function(a){return b[c].setText(a),this},this.show=function(){return b[c].show(),this},this.trigger=function(a){return b[c].trigger(a),this}}}(GRA||{}),function(a){a.dom=a.dom||{},a.dom.JQueryProxy=function(){this.addClass=function(a,b){var c=$(b);return c.addClass(a)},this.append=function(a,b){var c=$(b);return c.append(a)},this.count=function(a){return $(a).length},this.countByClass=function(a){return $("."+a).length},this.find=function(a){return $(a)},this.findByClass=function(a){return $("."+a)},this.findById=function(a){return $("#"+a)},this.forEach=function(a,b){var c=$(a);c.each(b)},this.getAttribute=function(a,b){var c=$(b);return c.attr(a)},this.getChildren=function(a){var b=$(a);return b.children()},this.getData=function(a,b){var c=$(b);return c.data(a)},this.getHtml=function(a){var b=$(a);return b.html()},this.getNodeName=function(a){return this.getProperty("tagName",a)},this.getOffset=function(a){var b=$(a);return b.offset()},this.getParent=function(a,b){var c=$(a);return c.parent(b)},this.getPosition=function(a){var b=$(a);return b.position()},this.getProperty=function(a,b){var c=$(b);return c.prop(a)},this.getText=function(a){var b=$(a);return b.text()},this.getValue=function(a){var b=$(a);return b.val()},this.hasClass=function(a,b){var c=$(b);return c.hasClass(a)},this.hide=function(a){var b=$(a);return b.hide()},this.isChecked=function(a){var b=$(a);return b.is(":checked")},this.isVisible=function(a){var b=$(a);return b.is(":visible")},this.prepend=function(a,b){var c=$(b);return c.prepend(a)},this.remove=function(a){var b=$(a);return b.remove()},this.removeClass=function(a,b){var c=$(b);return c.removeClass(a)},this.setAttribute=function(a,b,c){var d=$(c);return d.attr(a,b)},this.setData=function(a,b,c){var d=$(c);return d.data(a,b)},this.setHtml=function(a,b){var c=$(b);return c.html(a)},this.setProperty=function(a,b,c){var d=$(c);return d.prop(a,b)},this.setText=function(a,b){var c=$(b);return c.text(a)},this.setValue=function(a,b){var c=$(b);return c.val(a)},this.show=function(a){var b=$(a);return b.show()}},a.dom.JQueryProxy=new a.dom.JQueryProxy}(GRA||{}),function(a){a.form=a.form||{},a.form.Form=function(){var b,c=a.dom.JQueryProxy,d=Object.create(null),e=Object.create(null),f=Object.create(null),g=function(){for(var a=Object.keys(e),b=a.length,c=0,d=!0;d&&b>c;)d=d&&e[a[c]].valid,c+=1;return d},h=function(){for(var a=Object.keys(f),b=a.length,c=0,d=!0;d&&b>c;)d=d&&f[a[c]].valid,c+=1;return d};d["model.attribute.update"]=function(c){var d,g=a.utils.ObjectUtils,h=b.attribute(c);g.own(c,e)?(d=e[c],d.input.val(h),d.input.trigger("keyup")):g.own(c,f)&&(d=f[c],d.select.val(h),d.select.trigger("change"))},this.addInput=function(a,d,f){var g=c.find(d),h=this;e[a]={input:g,rules:f,valid:!1},g.on("keyup",function(){var c=h.validator,d=this.value;b&&b.attribute(a,d),c.validate(d,f)?(e[a].valid=!0,h.dispatch("input.valid",[this])):(e[a].valid=!1,h.dispatch("input.invalid",[this]))})},this.addSelect=function(a,d,e){var g=c.find(d),h=this;f[a]={select:g,deny:e,valid:!1},g.on("change",function(){var c=this.value;b&&b.attribute(a,c),c===e?(f[a].valid=!1,h.dispatch("select.invalid",[this])):(f[a].valid=!0,h.dispatch("select.valid",[this]))})},this.dispatch=function(b,c){a.utils.ObjectUtils.own(b,d)&&d[b].apply(null,c||[])},this.isValid=function(){var a=g();return a&&(a=a&&h()),a},this.on=function(a,b){d[a]=b},this.setModel=function(a){b&&b.getName()===a.getName()||(b=a,b.attachTo(this))},this.validator=new a.form.Validator}}(GRA||{}),function(a){a.form=a.form||{},a.form.Validator=function(){var b=new a.datastructure.Map,c=new a.datastructure.Stack;this.addRule=function(a,c,d){b.put(a,{check:c,instruction:d})},this.getErrors=function(){return c},this.hasErrors=function(){return!c.isEmpty()},this.validate=function(d,e){return a.utils.ArrayUtils.forEach(e,function(a){var e=b.get(a);e.check(d)||c.push(e.instruction)}),c.isEmpty()}}}(GRA||{}),function(a){a.fn=a.fn||{},a.fn.ExecutionQueue=function(){var b=new a.datastructure.Queue,c=[];this.add=function(a){b.enqueue(a)},this.run=function(a){var d=b.clone();setTimeout(function e(){var b=d.dequeue();b.apply(null,c),0<d.size()?setTimeout(e,5):a()},5)},this.setParameters=function(a){c=a},this.setTasks=function(a){var c,d=a.length;for(c=0;d>c;c+=1)b.enqueue(a[c])}}}(GRA||{}),function(a){"use strict";a.fn=a.fn||{},a.fn.CLOCK_MILLISECOND=1,a.fn.CLOCK_SECOND=1e3,a.fn.Manager=function(){var b=0,c=new a.datastructure.Map,d=a.fn.CLOCK_SECOND;this.has=function(a){return c.containsKey(a)},this.isRunning=function(a){var b=!1;return this.has(a)&&(b=c.get(a).isRunning),b},this.register=function(d){var e="anonymous"+b;a.utils.ObjectUtils.isAnonymous(d)?b+=1:e=a.utils.ObjectUtils.getFunctionName(d),c.put(e,{callback:d,isRunning:!1,processId:null})},this.run=function(a,b){var d;b&&b.hasOwnProperty(a)?b[a]():this.has(a)?(d=c.get(a),d.callback()):window[a]&&window[a]()},this.runAfter=function(b,e){var f;a.utils.is.callable(e)?setTimeout(e,b*d):this.has(e)&&(f=c.get(e),f.processId=setTimeout(function(){f.isRunning=!0,f.callback(),f.isRunning=!1},b*d))},this.runAsync=function(b){var d;a.utils.is.callable(b)?setTimeout(b,5):this.has(b)&&(d=c.get(b),setTimeout(d.callback,5))},this.runEvery=function(a,b){var e;this.has(b)&&(e=c.get(b),e.processId=setInterval(e.callback,a*d),e.isRunning=!0)},this.runWhenReady=function(b){var d=b;a.utils.is.string(b)&&this.has(b)&&(d=c.get(b).callback),"loading"!=document.readyState?d():document.addEventListener("DOMContentLoaded",d)},this.setTimeUnit=function(b){b!==a.fn.CLOCK_SECOND&&b!==a.fn.CLOCK_MILLISECOND||(d=b)},this.size=function(){return c.size()},this.stop=function(a){var b,d=!1;return this.has(a)&&(b=c.get(a),null!==b.processId&&(clearInterval(b.processId),b.isRunning=!1),d=!0),d},this.unregister=function(a){var b=!1;return this.stop(a)&&(b=c.remove(a)),b}}}(GRA||{}),function(a){a.fn=a.fn||{},a.fn.PromiseState={PENDING:0,RESOLVED:1,REJECTED:-1},a.fn.Promise=function(b){var c,d,e=a.fn.PromiseState.PENDING,f=function(b){var f,g;e===a.fn.PromiseState.PENDING?d=b:setTimeout(function(){if(g=e===a.fn.PromiseState.RESOLVED?b.onResolved:b.onRejected)try{f=g(c),b.resolve(f)}catch(d){b.reject(d)}else e===a.fn.PromiseState.RESOLVED?b.resolve(c):b.reject(c)},5)},g=function(b){e=a.fn.PromiseState.REJECTED,c=b,d&&f(d)},h=function i(b){try{b instanceof a.fn.Promise?b.then(i):(c=b,e=a.fn.PromiseState.RESOLVED,d&&f(d))}catch(h){g(h)}};this.onError=function j(j){setTimeout(function(){f({onResolved:null,onRejected:j})},5)},this.done=function(a,b){setTimeout(function(){f({onResolved:a,onRejected:b})},5)},this.fail=function(b){return new a.fn.Promise(function(a,c){f({onResolved:null,onRejected:b,resolve:a,reject:c})})},this.getState=function(){return e},this.then=function(b,c){return new a.fn.Promise(function(a,d){f({onResolved:b,onRejected:c,resolve:a,reject:d})})},this.val=function(){return c},b(h,g)}}(GRA||{}),function(a){"use strict";a.kernel=a.kernel||{},a.kernel.Application=function(b){var c,d,e=b,f=Object.create(null);this.broadcast=function(a){d.notifyAll(a)},this.createMessage=function(b,c){return new a.kernel.Message(b,c||"")},this.dispatch=function(b,c){a.utils.ObjectUtils.own(b,f)&&f[b](c)},this.get=function(a){return c.get(a)},this.getName=function(){return e},this.notifyUser=function(b,c){a.kernel.Kernel.notify(b,c)},this.init=function(a,b){d=a,c=b,d.subscribe(this)},this.on=function(a,b){f[a]=b},this.raiseError=function(b){a.kernel.Kernel.raiseError(b)},this.receive=function(a){this.dispatch("message",a)},this.sendTo=function(a,b){d.notify(a,b)},this.uid=a.utils.TokenUtils.generate(5,10),this.warnUser=function(b){a.kernel.Kernel.warn(b)}}}(GRA||{}),function(a){"use strict";a.kernel=a.kernel||{},a.kernel.Bus=function(){var a={},b=0;this.notify=function(b,c){a.hasOwnProperty(b)&&a[b].receive(c)},this.notifyAll=function(b){var c;for(c in a)a.hasOwnProperty(c)&&a[c].receive(b)},this.size=function(){return b},this.subscribe=function(c){a[c.getName()]=c,b+=1},this.unsubscribe=function(c){delete a[c],b-=1}}}(GRA||{}),function(a){"use strict";var b,c;a.kernel=a.kernel||{},b=function(){var b=Object.create(null);return{conceal:function(a){this.has(a)&&delete b[a]},get:function(a){if(!this.has(a))throw new Error("");return b[a]},has:function(c){return a.utils.ObjectUtils.own(c,b)},provide:function(a,c){b[a]=c}}}(),c=function(){var a,b=function(){return a&&window.console},c=function(){var a=new Date;return a.toLocaleString()};return{disable:function(){a=!1},enable:function(){a=!0},error:function(a){var d;b()&&(d=c(),a instanceof Error?window.console.error("[ERROR "+a.fileName+"] "+d+", ligne "+a.lineNumber+" : "+a.message):window.console.error("[ERROR] "+d+" : "+a))},info:function(a){var d;b()&&(d=c(),window.console.info("[INFO] "+d+" : "+a))},log:function(a){var d;b()&&(d=c(),window.console.log("[LOG] "+d+" : "+a))},warning:function(a){var d;b()&&(d=c(),window.console.info("[WARNING] "+d+" : "+a))}}}(),a.kernel.Kernel=function(){var d,e=Object.create(null),f=new a.kernel.Bus,g=function(b){return b instanceof a.kernel.Application};b.provide("logger",c),this.api=function(){return b},this.boot=function(a){var d,h=a();if(g(h)){d=h.getName(),c.info("Enregistrement de l'application ["+d+"]"),h.init(f,b),e[d]={instance:h,started:!1};try{h.dispatch("boot")}catch(i){c.error(i)}}},this.conceal=function(a){b.conceal(a)},this.createApplication=function(b){return new a.kernel.Application(b)},this.isBooted=function(b){return a.utils.ObjectUtils.own(b,e)},this.isDebug=function(){return!!d},this.isStarted=function(a){var b=!1;return this.isBooted(a)&&(b=e[a].started),b},this.notify=function(a,b){"success"===b?c.log(a):c.info(a)},this.provide=function(a,c){b.provide(a,c)},this.raiseError=function(a){c.error(a)},this.setDebug=function(a){d=!!a,c.disable(),d&&c.enable()},this.start=function(b){var d;this.isStarted(b)||(d=new a.fn.Manager,d.runWhenReady(function(){e[b].started=!0,c.info("L'application ["+b+"] a été démarrée.");try{e[b].instance.dispatch("start")}catch(a){c.error(a)}}))},this.startAll=function(){var a;for(a in e)this.start(a)},this.stop=function(a){if(this.isStarted(a)){e[a].started=!1;try{e[a].instance.dispatch("stop")}catch(b){c.error(b)}}},this.stopAll=function(){var a;for(a in e)this.stop(a)},this.urls=Object.create(null),this.warn=function(a){c.warning(a)}},a.kernel.Kernel=new a.kernel.Kernel}(GRA||{}),function(a){"use strict";a.kernel=a.kernel||{},a.kernel.Message=function(a,b){var c=+new Date,d=a,e=b||"",f={},g={},h={};this.getId=function(){return c},this.getRequestCode=function(){return d},this.getDescription=function(){return e},this.getInt=function(a,b){var c=b;return f.hasOwnProperty(a)&&(c=f[a]),c},this.getString=function(a,b){return g[a]||b},this.getObject=function(a,b){return h[a]||b},this.putInt=function(a,b){f[a]=b},this.putString=function(a,b){g[a]=b},this.putObject=function(a,b){h[a]=b}}}(GRA||{}),function(a){a.model=a.model||{},a.model.Model=function(b){var c,d,e=b.toLowerCase(),f=function(b,c){var d,f=a.kernel.Kernel;if(f.urls.hasOwnProperty(e)&&f.urls[e].hasOwnProperty(b))d=f.urls[e][b];else{if(!c)throw new Error("Aucune URL source pour GRA.model.Model::"+b+"()");d=c}return d},g=function(a){d&&d.dispatch("model.attribute.update",[a])},h={};this.attachTo=function(a){a.setModel(this),d=a},this.attribute=function i(i,a){var b;return c.hasOwnProperty(i)&&(b=c[i]),void 0!==a&&(c[i]=a,b=this),b},this.clear=function(){a.storage.local.remove("model/"+e)},this.defineBy=function(a){c=a},this.dispatch=function(a,b){h.hasOwnProperty(a)&&h[a](b)},this.find=function(b,d){var e=f("find",d),h=new a.ajax.Factory,i=h.createJsonRequest(),j=this;i.get(e,function(b){a.utils.ObjectUtils.forEachProperties(c,function(a){j.attr(a,b[a]),g(a)})})},this.getName=function(){return e},this.on=function(a,b){h[a]=b},this.persist=function(b){var c=this.toObject();a.storage.local.set("model/"+e,c,b)},this.remove=function(b){var c=f("remove",b),d=new a.ajax.Factory,e=d.createJsonRequest(),g=this;e["delete"](c,function(){g.dispatch("remove")})},this.retrieve=function(){var b=a.storage.local.get("model/"+e),d=this;b&&a.utils.ObjectUtils.forEachProperties(c,function(a){d.attribute(a,b.attributes[a]),g(a)})},this.save=function(b){var c=f("save",b),d=new a.ajax.Factory,e=d.createJsonRequest(),g=this;e.post(c,function(){g.dispatch("save")})},this.toObject=function(){return{name:e,attributes:c}},this.toString=function(){return a.utils.ObjectUtils.stringify({name:e,attributes:c})}}}(GRA||{}),function(a){a.storage=a.storage||{},a.storage.local=function(){var b=function(a,b){var c=+new Date;return b&&c-a>10*b*10*10},c=function(b,c){return a.utils.ObjectUtils.stringify({item:b,date:+new Date,ttl:c})},d=function(b){var c=b;return a.utils.is.string(b)||(c=a.utils.ObjectUtils.stringify(b)),c};this.clear=function(){localStorage.clear()},this.isEmpty=function(){return 0===localStorage.length},this.get=function(c,d){var e,f=d;if(this.has(c))if(e=localStorage.getItem(c),e=a.utils.ObjectUtils.parseJSON(e),b(e.date,e.ttl))localStorage.removeItem(c);else try{f=a.utils.ObjectUtils.parseJSON(e.item)}catch(g){f=e.item}return f},this.has=function(a){return localStorage.hasOwnProperty(a)},this.refresh=function(){var c,d,e,f=localStorage.length;for(c=0;f>c;c+=1)d=localStorage.key(c),e=localStorage.getItem(d),e=a.utils.ObjectUtils.parseJSON(e),b(e.date,e.ttl)&&localStorage.removeItem(d)},this.remove=function(a){localStorage.removeItem(a)},this.set=function(a,b,e){var f=d(b),g=e||null,h=c(f,g);localStorage.setItem(a,h)}},a.storage.local=new a.storage.local}(GRA||{}),function(a){a.storage=a.storage||{},a.storage.session=function(){var b=function(a,b){var c=+new Date;return b&&c-a>10*b*10*10},c=function(b,c){return a.utils.ObjectUtils.stringify({item:b,date:+new Date,ttl:c})},d=function(b){var c=b;return a.utils.is.string(b)||(c=a.utils.ObjectUtils.stringify(b)),c};this.clear=function(){sessionStorage.clear()},this.isEmpty=function(){return 0===sessionStorage.length},this.get=function(c,d){var e,f=d;if(this.has(c))if(e=sessionStorage.getItem(c),e=a.utils.ObjectUtils.parseJSON(e),b(e.date,e.ttl))sessionStorage.removeItem(c);else try{f=a.utils.ObjectUtils.parseJSON(e.item)}catch(g){f=e.item}return f},this.has=function(a){return sessionStorage.hasOwnProperty(a)},this.refresh=function(){var c,d,e,f=sessionStorage.length;for(c=0;f>c;c+=1)d=sessionStorage.key(c),e=sessionStorage.getItem(d),e=a.utils.ObjectUtils.parseJSON(e),b(e.date,e.ttl)&&sessionStorage.removeItem(d)},this.remove=function(a){sessionStorage.removeItem(a)},this.set=function(a,b,e){var f=d(b),g=e||null,h=c(f,g);sessionStorage.setItem(a,h)}},a.storage.session=new a.storage.session}(GRA||{}),function(a){"use strict";a.utils=a.utils||{},a.utils.ArrayUtils=function(){this.clear=function(a){for(;0<a.length;)a.pop()},this.concat=function(a,b){return a.join(b)},this.forEach=function(a,b){var c,d=a.length;for(c=0;d>c;c+=1)b(a[c],c)},this.indexOf=function(a,b){var c=0,d=b.length>>>0,e=-1,f=!1;for(0===d&&(f=!0);d>c&&!f;)b[c]===a&&(e=c,f=!0),c+=1;return e},this.inArray=function(a,b){return-1!==this.indexOf(a,b)},this.reverseForEach=function(a,b){var c;for(c=a.length-1;c>=0;c-=1)b(a[c],c)},this.sum=function a(b){var c,d=b.length,a=0;for(c=0;d>c;c+=1)a+=parseInt(b[c],10);return a}},a.utils.ArrayUtils=new a.utils.ArrayUtils}(GRA||{}),function(a){"use strict";a.utils=a.utils||{},a.utils.DateUtils=function(){this.add=function(b,c,d){var e,f="get"+a.utils.StringUtils.ucfirst(c),g="set"+a.utils.StringUtils.ucfirst(c);
if(b.hasOwnProperty(g))e=b[f](),b[g](e+d);else switch(c){case"days":e=b.getDate(),b.setDate(e+d);break;case"years":e=b.getFullYear(),b.setFullYear(e+d);break;case"weeks":e=b.getDate(),b.setDate(e+7*d);break;case"months":e=b.getMonth(),b.setMonth(e+d)}return b},this.createFromFormat=function(a,b){var c=a||"dd/mm/yyyy",d=b.match(/(\d+)/g),e={},f=0;return c=c.toLowerCase(),c.replace(/(yyyy|dd|mm)/g,function(a){f+=1,e[a]=f}),new Date(d[e.yyyy],d[e.mm]-1,d[e.dd])},this.isLeap=function(a){var b=new Date(a,1,29);return 1===b.getMonth()},this.sub=function(a,b,c){return this.add(a,b,-1*c)},this.time=function(){return+new Date},this.toDatabaseString=function(b){var c=a.utils.StringUtils,d=b.getFullYear(),e=b.getMonth()+1,f=b.getDate(),g=b.getHours(),h=b.getMinutes(),i=b.getSeconds();return e=c.padLeft(e,"0",2),f=c.padLeft(f,"0",2),g=c.padLeft(g,"0",2),h=c.padLeft(h,"0",2),i=c.padLeft(i,"0",2),c.concat([d,e,f],"-")+" "+c.concat([g,h,i],":")},this.toFrenchString=function(b){var c=a.utils.StringUtils,d=b.getFullYear(),e=b.getMonth()+1,f=b.getDate();return e=c.padLeft(e,"0",2),f=c.padLeft(f,"0",2),c.concat([f,e,d],"/")},this.toFullFrenchString=function(b,c){var d=this.toFrenchString(b),e=a.utils.StringUtils,f=b.getHours(),g=b.getMinutes(),h=b.getSeconds(),i=[],j=!!c;return f=e.padLeft(f,"0",2),g=e.padLeft(g,"0",2),i.push(f,g),j&&(h=e.padLeft(h,"0",2),i.push(h)),d+" "+e.concat(i,":")},this.today=function(){return new Date},this.tomorrow=function(){var a=this.today();return this.add(a,"days",1)},this.weekNumber=function(a){var b,c,d,e,f,g=new Date(+a),h=g.getFullYear(),i=new Date(h,0,4),j=+i,k=i.getDay();return g.setHours(0,0,0,0),b=g.getDay(),c=g.getDate(),g.setDate(c+3-(b+6)%7),d=+g,e=d-j/864e5,f=3-(k+6)%7,1+Math.round((e-f)/7)},this.yesterday=function(){var a=this.today();return this.sub(a,"days",1)}},a.utils.DateUtils=new a.utils.DateUtils}(GRA||{}),function(a){a.utils=a.utils||{},a.utils.is={array:function(a){return"[object Array]"===Object.prototype.toString.call(a)},"boolean":function(a){return!0===a||!1===a},"double":function(a){return this["float"](a)},empty:function b(a){var c,d=[void 0,null,!1,0,"","0"],b=!0;if(this.array(a))b=0===a.length;else if(this.object(a))for(c in a)a.hasOwnProperty(c)&&(b=!1);else b=this.into(d,a);return b},set:function(a){for(var b=arguments,c=arguments.length,d=0,e=!0;e&&c>d;)e=void 0!==b[d]&&null!==b[d],d+=1;return e},"float":function(a){var b=+a===a,c=!isFinite(a);return b&&c},callable:function(a){var b=a&&a.constructor,c=a.call&&a.apply;return!(!b||!c)},ie:function(){return"Microsoft Internet Explorer"===window.navigator.appName},integer:function(a){var b=a===+a,c=isFinite(a),d=a%1;return b&&c&&!d},into:function c(a,b){var c=!1,d=0;if(this.array(a))for(;!c&&d<a.length;)c=a[d]===b,d+=1;else this.object(a)?c=a.hasOwnProperty(b):this.string(a)&&(c=-1!==a.indexOf(b));return c},numeric:function(a){var b,c=" \n\r	\f",d="number"==typeof a,e="string"==typeof a,f=!0,g=""!==a&&!isNaN(a);return e&&(b=a.slice(-1),f=c.indexOf(b)),e=e&&f,(d||e)&&g},object:function(a){return null!==a&&"object"==typeof a&&!this.array(a)},scalar:function(a){return/boolean|number|string/.test(typeof a)},string:function(a){return"string"==typeof a}}}(GRA||{}),function(a){a.utils=a.utils||{},a.utils.ObjectUtils=function(){this.countProperties=function(a){var b,c=0;for(b in a)a.hasOwnProperty(b)&&(c+=1);return c},this.deepExtend=function(a,b){if(!window.$)throw new Error("L'utilisation de la fonction ObjectUtils::deepExtend() nécessite JQuery");$.extend(!0,a,b)},this.extend=function(b,c){var d;if(a.utils.is.callable(c))c.apply(b);else for(d in c)c.hasOwnProperty(d)&&(b[d]=c[d])},this.forEachProperties=function(a,b){var c;for(c in a)a.hasOwnProperty(c)&&b(c)},this.getFunctionName=function(a){var b=a.toString(),c=/^function\s+([\w\$]+)\s*\(/.exec(b),d="anonymous";return c&&(d=c[1]),d},this.getClassName=function(a){return this.getFunctionName(a.constructor)},this.isAnonymous=function(a){var b=a.toString();return null===/^function\s+([\w\$]+)\s*\(/.exec(b)},this.merge=function(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(b[c].constructor&&Object===b[c].constructor?a[c]=this.merge(a[c],b[c]):a[c]=b[c])},this.own=function(a,b){return Object.prototype.hasOwnProperty.call(b,a)},this.parseHTML=function(a){var b=document.createElement("div");return b.innerHTML=a,b.children},this.parseJSON=function(a){return JSON.parse(a)},this.parseXML=function(a){var b,c;if(window.ActiveXObject)c=new window.ActiveXObject("Microsoft.XMLDOM"),c.async=!1,b=c.loadXML(a);else{if(!window.DOMParser)throw new Error("Aucun parseur XML n'est disponible sur ce navigateur.");c=new window.DOMParser,b=c.parseFromString(a,"text/xml")}return b},this.stringify=function(a){return JSON.stringify(a)}},a.utils.ObjectUtils=new a.utils.ObjectUtils}(GRA||{}),function(a){a.utils=a.utils||{},a.utils.StringUtils=function(){this.concat=function(a,b){var c=b||"";return a.join(c)},this.fullTrim=function(a){var b=a.replace(/(^ +}  +\$)/g,""),c=b.replace(/ +/g," ");return c.trim()},this.has=function(a,b){return 0<=b.indexOf(a)},this.padLeft=function(a,b,c){for(var d=a,e=a.length+b.length;c>=e;)d=b+d,e+=b.length;return d},this.padRight=function(a,b,c){for(var d=a,e=a.length+b.length;c>=e;)d+=b,e+=b.length;return d},this.toFloat=function(a){return parseFloat(a)},this.toInt=function(a){return parseInt(a,10)},this.ucfirst=function(a){var b=a.charAt(0),c=a.substr(1);return b=b.toUpperCase(),this.concat([b,c])},this.ucfirstAll=function(a){var b=a.split(" "),c=this;return partsUpper=b.map(function(a){return c.ucfirst(a)}),partsUpper.join(" ")}},a.utils.StringUtils=new a.utils.StringUtils}(GRA||{}),function(a){a.utils=a.utils||{},a.utils.TokenUtils=function(){var a={RANDOM:["a","N","z","B","E","v","R","C","t","x","w","m","y","u","i","l","o","k","p","Q","S","d","F","g","h","J","K","A","c","0","8","9","-","_","+","7","L","O","4","6","5","W","X","1","2","3","H","f","T","M","r","b","e","f","G","I","P","Y","Z","V"],ALPHA_X:["a","A","z","Z","e","E","f","F","g","G","h","r","R","t","T","y","Y","u","U","i","I","o","O","p","P","q","Q","s","S","D","d","H","j","J","k","K","l","L","m","M","w","W","x","X","c","C","v","B","n","b","V","N","0","1","9","8","2","3","7","6","4","5"],NUMERIC:["0","1","9","8","2","3","7","6","4","5"],CHARS:["a","A","z","Z","e","E","f","F","g","G","h","r","R","t","T","y","Y","u","U","i","I","o","O","p","P","q","Q","s","S","D","d","H","j","J","k","K","l","L","m","M","w","W","x","X","c","C","v","B","n","b","V","N"]},b=function(b){return a.hasOwnProperty(b)};this.ALPHA_X="ALPHA_X",this.CHARS="CHARS",this.NUMERIC="NUMERIC",this.RANDOM="RANDOM",this.generate=function(c,d,e){var f,g=Math.random(),h=Math.floor(g*(d-c+1)+c),i=e||this.ALPHA_X,j="";if(!b(i))throw new Error("TokenUtils : Type de jeton ["+i+"] inconnu");if(0>=c||0>=d)throw new Error("TokenUtils : Taille du jeton demandé incorrecte.");for(f=0;h>f;f+=1)g=Math.random(),j+=a[i][Math.floor(g*a[i].length)];return j}},a.utils.TokenUtils=new a.utils.TokenUtils}(GRA||{});